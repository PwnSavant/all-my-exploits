OPENQASM 2.0;
include "qelib1.inc";

qreg q[3];
creg c[3];

h q[0];
cx q[0],q[1];
swap q[0],q[1];
ccx q[0],q[1],q[2];
id q[0];
tdg q[1];
sdg q[0];
t q[1];
s q[0];
sxdg q[0];
if (c==0) tdg q[0];
sx q[0];
cp(pi/2) q[1],q[2];
crz(pi/2) q[2],q[0];
measure q[0] -> c[0];
reset q[0];
if (c==0) ry(pi/2) q[1];
s q[2];
if (c==0) h q[0];
rx(pi/2) q[0];
tdg q[1];
u(pi/2,pi/2,pi/2) q[2];
rz(pi/2) q[1];
rxx(pi/2) q[0],q[1];
rzz(pi/2) q[0],q[1];
sxdg q[1];
U(x,y,z)
U(x,y,z)
            |exp(−i(φ+λ)/2)cos(θ/2)  -exp(−i(φ-λ)/2)sin(θ/2)|
U(θ,φ,λ) =  |                                               |
            |exp(i(φ-λ)/2)sin(θ/2)   exp(i(φ+λ)/2)cos(θ/2)  |
             
U(θ,φ,λ) =  |  exp(i(φ+λ)/2)/cos(θ/2)   |exp(−i(φ+λ)/2)cos(θ/2)  -exp(−i(φ-λ)/2)sin(θ/2)| 
X q[2];
H q[0];
T q[1];
CNOT q[1] q[0];
TD q[0];
CNOT q[1] q[0];
T q[0];
U(0,0,PI/8) q[2];
CNOT q[2] q[0];
U(0,0,-PI/8) q[0];
CNOT q[2] q[0];
U(0,0,PI/8) q[0];
H q[1];
T q[2];
CNOT q[2] q[1];
TD q[1];
CNOT q[2] q[1];
T q[1];
H q[2];
CNOT q[0] q[2];
CNOT q[2] q[0];|
            |exp(i(φ-λ)/2)sin(θ/2)   exp(i(φ+λ)/2)cos(θ/2)  |
exp(i(φ+λ)/2)/cos(θ/2)
Quantum a 4;
H a[0];H a[1];H a[2];X a[3];H a[3];
CNOTS a[0] a[1] a[2] a[3];
H a[0];H a[1];H a[2];X a[0];X a[1];X a[2];H a[2];
CCNOT a[0] a[1] a[2];
X a[0];X a[1];H a[2];H a[0];H a[1];X a[2];H a[2];
CNOTS a[0] a[1] a[2] a[3];
H a[0];H a[1];H a[2];X a[0];X a[1];X a[2];H a[2];
CCNOT a[0] a[1] a[2];
X a[0];X a[1];H a[2];H a[0];H a[1];X a[2];H a[2]
ccx q[0],q[1],q[2];
break